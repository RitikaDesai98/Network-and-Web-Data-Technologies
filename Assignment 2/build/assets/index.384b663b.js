var C=Object.defineProperty,T=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var b=(r,t,a)=>t in r?C(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,f=(r,t)=>{for(var a in t||(t={}))E.call(t,a)&&b(r,a,t[a]);if(N)for(var a of N(t))I.call(t,a)&&b(r,a,t[a]);return r},v=(r,t)=>T(r,S(t));import{r as u,j as e,a as i,F as p,b as R,c as F,R as M,d as O,e as D,q as L}from"./vendor.0c8652b4.js";const P=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}};P();var w=(r,t)=>{switch(t.type){case"DELETE_TRANSACTION":return v(f({},r),{transactions:r.transactions.filter(a=>a.id!==t.payload)});case"ADD_TRANSACTION":return v(f({},r),{transactions:[t.payload,...r.transactions]});default:return r}};const A={transactions:[{id:1,name:"Salary",amount:300,category:"Income"},{id:2,name:"Rent",amount:-150,category:"Housing"},{id:3,name:"Milk",amount:-10,category:"Grocery"},{id:4,name:"T-Shirt",amount:-20,category:"Miscellaneous"}]},m=u.exports.createContext(A),G=({children:r})=>{const[t,a]=u.exports.useReducer(w,A);function c(n){a({type:"DELETE_TRANSACTION",payload:n})}function s(n){a({type:"ADD_TRANSACTION",payload:n})}return e(m.Provider,{value:{transactions:t.transactions,deleteTransaction:c,addTransaction:s},children:r})},H=()=>{const{transactions:r,deleteTransaction:t,categories:a}=u.exports.useContext(m);return i(p,{children:[e("h3",{children:"History"}),e("ul",{className:"list",children:r.map(c=>i("li",{className:c.category,children:[c.name,e("button",{onClick:()=>t(c.id),className:"delete-btn",children:e(R,{})}),e("span",{className:c.category,children:c.category}),i("span",{children:[c.amount<0?"-":"+","$",Math.abs(c.amount)]})]}))})]})},_=()=>{const{transactions:r}=u.exports.useContext(m),t=r.map(n=>n.amount),a=t.reduce((n,l)=>n+=l,0).toFixed(2),c=t.filter(n=>n>0).reduce((n,l)=>n+=l,0).toFixed(2),s=(t.filter(n=>n<0).reduce((n,l)=>n+=l,0)*-1).toFixed(2);return e(p,{children:e("div",{className:"container text-center",children:i("div",{className:"row align-items-end",children:[e("div",{className:"col-sm item",children:i("div",{className:"alert alert-success",children:[e("div",{children:"Income:"}),e("div",{children:c})]})}),e("div",{className:"col-sm item",children:i("div",{className:"alert alert-danger",children:[e("div",{children:"Expense:"}),e("div",{children:s})]})}),e("div",{className:"col-sm item",children:i("div",{className:"alert alert-primary",children:[e("div",{children:"Balance:"}),e("div",{children:a})]})})]})})})},j=()=>{const[r,t]=u.exports.useState(""),[a,c]=u.exports.useState(),[s,n]=u.exports.useState("Salary"),{addTransaction:l}=u.exports.useContext(m);return i(p,{children:[e("h3",{children:"Add Expense"}),i("form",{onSubmit:o=>{o.preventDefault();const d={id:Math.floor(Math.random()*1e8),name:r,amount:+a,category:s};l(d)},children:[e("p",{className:"fw-lighter",children:"Add a (-) sign before the amount if it is an expense"}),i("div",{className:"input-group mb-3",children:[e("span",{className:"input-group-text",children:"Name"}),e("input",{required:!0,type:"text",className:"form-control",placeholder:"Enter expense name",value:r,onChange:o=>t(o.target.value)})]}),i("div",{className:"input-group mb-3",children:[e("span",{className:"input-group-text",children:"$"}),e("input",{required:!0,type:"text",className:"form-control",placeholder:"Enter expense amount",value:a,onChange:o=>c(o.target.value)})]}),i("div",{className:"input-group mb-3",children:[e("span",{className:"input-group-text",children:"Category"}),i(F.Control,{as:"select",onChange:o=>{console.log("e.target.value",o.target.value),n(o.target.value)},children:[e("option",{value:"Income",children:"Income"}),e("option",{value:"Housing",children:"Housing"}),e("option",{value:"Grocery",children:"Grocery"}),e("option",{value:"Miscellaneous",children:"Miscellaneous"})]})]}),e("button",{className:"add-button",children:"Add Expense"})]})]})},q=()=>{const{transactions:r}=u.exports.useContext(m),t=r.map(o=>o.amount),a=t.reduce((o,d)=>o+=d,0).toFixed(2),c=t.filter(o=>o>0).reduce((o,d)=>o+=d,0).toFixed(2),s=(t.filter(o=>o<0).reduce((o,d)=>o+=d,0)*-1).toFixed(2),n=parseInt(s),l=parseInt(c),x=parseInt(a);return e(p,{children:e(M,{data:[{title:"Income",value:l,color:"#d4edda"},{title:"Expense",value:n,color:"#f8d7da"},{title:"Balance",value:x,color:"#cce5ff"}],center:[50,50],lengthAngle:360,lineWidth:100,paddingAngle:0,radius:40,startAngle:0,viewBoxSize:[100,100],label:({x:o,y:d,dx:h,dy:g,dataEntry:y})=>i("text",{x:o,y:d,dx:h,dy:g,"text-anchor":"middle",style:{fill:"#000000",fontSize:"5px"},children:[e("tspan",{x:o,y:d,dx:h,dy:g,children:y.title}),e("tspan",{x:o,y:d+5,dx:h,dy:g,children:y.value})]}),labelPosition:65})})};function B(){return i(G,{children:[e("h1",{children:"Expense Tracker"}),e(q,{}),e(_,{}),e(H,{}),e(j,{})]})}O.render(e(D.StrictMode,{children:e(L,{children:e(B,{})})}),document.getElementById("root"));
